<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fswatch: C++ API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fswatch<span id="projectnumber">&#160;1.17.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">C++ API </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >The C++ API provides users an easy to use, object-oriented interface to a wide range of file monitoring APIs. This API provides a common facade to a set of heterogeneous APIs that not only greatly simplifies their usage, but provides an indirection layer that makes applications more portable: as far as there is an available monitor in another platform, an existing application will just work.</p>
<p >In reality, a monitor may have platform-specific behaviours that should be taken into account when writing portable applications using this library. This differences complicate the task of writing portable applications that are truly independent of the file monitoring API they may be using. However, monitors try to ‘compensate’ for any behavioural difference across implementations.</p>
<p >The <a class="el" href="classfsw_1_1monitor.html" title="Base class of all monitors.">fsw::monitor</a> class is the basic type of the C++ API: it defines the interface of every monitor and provides common functionality to inheritors of this class, such as:</p>
<ul>
<li>Configuration and life cycle (<a class="el" href="classfsw_1_1monitor.html" title="Base class of all monitors.">fsw::monitor</a>).</li>
<li>Event filtering (<a class="el" href="classfsw_1_1monitor.html" title="Base class of all monitors.">fsw::monitor</a>).</li>
<li>Path filtering (<a class="el" href="classfsw_1_1monitor.html" title="Base class of all monitors.">fsw::monitor</a>).</li>
<li>Monitor registration (<a class="el" href="classfsw_1_1monitor__factory.html" title="Object factory class for fsw::monitor instances.">fsw::monitor_factory</a>).</li>
<li>Monitor discovery (<a class="el" href="classfsw_1_1monitor__factory.html" title="Object factory class for fsw::monitor instances.">fsw::monitor_factory</a>).</li>
</ul>
<h1><a class="anchor" id="Usage"></a>
Usage</h1>
<p >The typical usage pattern of this API is similar to the following:</p>
<ul>
<li>An instance of a monitor is either created directly or through the factory (<a class="el" href="classfsw_1_1monitor__factory.html" title="Object factory class for fsw::monitor instances.">fsw::monitor_factory</a>).</li>
<li>The monitor is configured (<a class="el" href="classfsw_1_1monitor.html" title="Base class of all monitors.">fsw::monitor</a>).</li>
<li>The monitor is run and change events are waited for (<a class="el" href="classfsw_1_1monitor.html#a8394127e75863569f24041a5bdcb9cd5" title="Start the monitor.">fsw::monitor::start()</a>).</li>
</ul>
<h1><a class="anchor" id="cpp-example"></a>
Example</h1>
<pre class="fragment">// Create the default platform monitor
monitor *active_monitor =
  monitor_factory::create_monitor(fsw_monitor_type::system_default_monitor_type,
                                  paths,
                                  process_events);

// Configure the monitor
active_monitor-&gt;set_properties(monitor_properties);
active_monitor-&gt;set_allow_overflow(allow_overflow);
active_monitor-&gt;set_latency(latency);
active_monitor-&gt;set_recursive(recursive);
active_monitor-&gt;set_directory_only(directory_only);
active_monitor-&gt;set_event_type_filters(event_filters);
active_monitor-&gt;set_filters(filters);
active_monitor-&gt;set_follow_symlinks(follow_symlinks);
active_monitor-&gt;set_watch_access(watch_access);

// Start the monitor
active_monitor-&gt;start();
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
